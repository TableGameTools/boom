(this.webpackJsonpCreditCenter=this.webpackJsonpCreditCenter||[]).push([[0],{101:function(t,e){},111:function(t,e){t.exports={hello:"hello",world:"world",fuck:{world:"fuck world"},normalTitle:"normalTitle",clickMeToChangeTitle:"clickMeToChangeTitle",titleByClick:"titleByClick"}},112:function(t,e){t.exports={hello:"\u4f60\u597d",world:"\u4e16\u754c",fuck:{world:"\u5e72\u4e16\u754c"},normalTitle:"\u6807\u9898\u9ed8\u8ba4\u503c",clickMeToChangeTitle:"\u70b9\u6211\u6539\u53d8\u6807\u9898",titleByClick:"\u70b9\u51fb\u540e\u7684\u6807\u9898"}},113:function(t,e){},18:function(t,e,n){"use strict";n.r(e);var r=n(80),a=new(n.n(r).a)({filename:"db"}),i=new Proxy(a,{get:function(t,e){return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return new Promise((function(n,a){t[e].apply(t,r.concat([function(t,e){t?a(t):n(e)}]))}))}}});e.default=i},183:function(t,e,n){var r={"./":26,"./app":73,"./app.js":73,"./db":22,"./db/":22,"./db/index":22,"./db/index.js":22,"./db/nedb":18,"./db/nedb.js":18,"./db/session":34,"./db/session.js":34,"./index":26,"./index.js":26,"./user":74,"./user.js":74};function a(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=i,t.exports=a,a.id=183},184:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),i=n(17),o=n.n(i),c=(n(87),n(29)),s=n(2),u=n.n(s),l=n(5),f=n(9),d=n(6),h=n(13),p=n(12),g=(n(89),n(47)),v=n(1),m=n(35),b=n.n(m),w={"en-US":n(111),"zh-CN":n(112)},y=b.a.get.bind(b.a),k=function(){var t=Object(l.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.init({currentLocale:e,locales:w});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();k("en-US");var j=function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(t){var r,a=t.route;return Object(f.a)(this,n),(r=e.call(this)).state={width:0,height:0,fontSize:0,interval:null,isLoading:!1},r.handleBoomClick=function(){r.setState({isLoading:!0}),r.interval=setTimeout((function(){window.navigator.vibrate(2e3),r.setState({isLoading:!1})}),1e4*Math.random())},r.route=a,r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.setState({width:document.body.clientWidth,height:document.body.clientHeight,fontSize:document.body.clientWidth/8})}}]),Object(d.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{style:{width:this.state.width,height:this.state.height,fontSize:this.state.fontSize,display:"flex",alignItems:"center",justifyContent:"center"}},this.state.isLoading&&a.a.createElement("span",null,"\u70b8\u5f39\u5373\u5c06\u7206\u70b8"),!this.state.isLoading&&a.a.createElement("button",{onClick:this.handleBoomClick,style:{}},"\u70b9\u71c3\u70b8\u5f39"))}}]),n}(r.Component),O=(n(113),n(187)),x=a.a.createContext(),S=n(48),C=n.n(S),E=function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(){var t;return Object(f.a)(this,n),(t=e.call(this)).click=function(){t.context.store.set({user:{title:y("titleByClick")}})},t.switchLanguage=function(e){t.context.changeLanguage(e)},t}return Object(d.a)(n,[{key:"render",value:function(){var t=this;return a.a.createElement("div",null,a.a.createElement(O.a,{onClick:function(){return t.switchLanguage("zh-CN")},className:C.a.red},"\u5207\u6362\u5230\u4e2d\u6587"),a.a.createElement(O.a,{onClick:function(){return t.switchLanguage("en-US")},className:C.a.blue},"changeToEnglist"),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(O.a,{onClick:this.click},y("clickMeToChangeTitle")),a.a.createElement(O.a,null,y(this.context.store.state.user.title)))}}]),n}(r.Component);E.contextType=x;var L=[{path:"/home",component:j},{path:"/",render:function(){return a.a.createElement(v.a,{to:"/home"})}}],I=n(186),T=function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(){return Object(f.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{style:{width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.05)",position:"absolute",display:"flex",justifyContent:"center",alignItems:"center"}},a.a.createElement(I.a,{size:"large",tip:"Loading..."}))}}]),n}(r.Component),_=n(46),M=n(26),B=function(){var t="production";if("development"===t){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(e=console.log).call.apply(e,[console].concat(r))}},N=function(){var t="production";if("development"===t){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];console.log.call(console,JSON.stringify(n,null,"  "))}};window.log=B,window.logj=N;var z=function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(){var t;return Object(f.a)(this,n),(t=e.call(this)).changeLanguage=function(){var e=Object(l.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state.store.set({app:{language:n}}),e.next=3,k(n);case 3:t.forceUpdate();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.state={isLoading:!0,store:""},t.quickStore={},t.actions={changeLanguage:t.changeLanguage},t.init(),t}return Object(d.a)(n,[{key:"init",value:function(){var t=Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initStore();case 2:this.initLanguage(),this.setState({isLoading:!1});case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"initStore",value:function(){var t=Object(l.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return log("\u521d\u59cb\u5316\u6570\u636e\u5e93"),e=new M.default(this,"true"),t.next=4,e.init();case 4:log("\u6570\u636e\u5e93\u52a0\u8f7d\u5b8c\u6210"),this.setState({store:e}),this.quickStore=this.state.store.state;case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"initLanguage",value:function(){var t=this.quickStore.app.language;this.changeLanguage(t)}},{key:"render",value:function(){return a.a.createElement(x.Provider,{value:Object(c.a)({store:this.state.store},this.actions)},this.state.isLoading?a.a.createElement(T,null):a.a.createElement(_.a,null,a.a.createElement("div",{className:"App"},Object(g.a)(L))))}}]),n}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},22:function(t,e,n){"use strict";n.r(e);var r=n(29),a=n(2),i=n.n(a),o=n(5),c=n(9),s=n(6),u=n(18),l=function(){function t(e){Object(c.a)(this,t),this.id=e}return Object(s.a)(t,[{key:"load",value:function(){var t=Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.default.loadDatabase();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"get",value:function(){var t=Object(o.a)(i.a.mark((function t(){var e,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={_id:this.id},t.next=3,u.default.findOne(e);case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"update",value:function(){var t=Object(o.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.default.update({_id:this.id},Object(r.a)(Object(r.a)({},e),{},{_id:this.id}),{upsert:!0});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"drop",value:function(){var t=Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.default.remove({},{multi:!0});case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),t}();e.default=l},26:function(t,e,n){"use strict";n.r(e);var r,a=n(2),i=n.n(a),o=n(81),c=n(5),s=n(9),u=n(6),l=function t(e,n){for(var r in e){var a=n[r];a&&(Array.isArray(a)||a instanceof Object?e[r]=t(e[r],n[r]):e[r]=n[r])}return e},f=n(22),d=n(34),h=["user","app"],p=function(){function t(e,n){Object(s.a)(this,t),this.state={},this.set=this.set.bind(e);var a="store";n&&(a+=Object(d.createSessionId)()),r=new f.default(a)}return Object(u.a)(t,[{key:"init",value:function(){var t=Object(c.a)(i.a.mark((function t(){var e,a,c,s,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.load();case 2:log("\u52a0\u8f7d\u9ed8\u8ba4\u503c"),e=Object(o.a)(h);try{for(e.s();!(a=e.n()).done;)c=a.value,s=n(183)("./".concat(c)).default,this.state[c]=s}catch(i){e.e(i)}finally{e.f()}return log("\u68c0\u67e5\u7f13\u5b58"),t.next=8,r.get();case 8:return(u=t.sent)&&(log("\u5b58\u5728\u7f13\u5b58\uff0c\u8c03\u53d6\u7f13\u5b58\u5408\u5e76"),l(this.state,u)),log("Store\u52a0\u8f7d\u5b8c\u6bd5\uff0c\u6570\u636e\u5b58\u8fdb\u672c\u5730\u7f13\u5b58"),t.next=13,r.update(this.state);case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"set",value:function(){var t=Object(c.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.setState(function(){var t=Object(c.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.store.state,l(a,e),log("this store",a),t.next=5,r.update(a);case 5:return t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"clear",value:function(){var t=Object(c.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.drop();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),t}();e.default=p},34:function(t,e,n){"use strict";n.r(e),n.d(e,"createSessionId",(function(){return r}));var r=function(){var t=sessionStorage.getItem("sessionId");return log("sessionStorage.getItem(sessionIdentifier)",sessionStorage.getItem("sessionId"),"sessionId"),t||(t=Date.now()+Math.random(),log("sessionStorage.setItem"),sessionStorage.setItem("sessionId",String(t)),log("sessionStorage.getItem(sessionIdentifier)",sessionStorage.getItem("sessionId"),"sessionId")),t}},48:function(t,e,n){t.exports={red:"test_red__1bm6M",blue:"test_blue__xoWOS"}},73:function(t,e,n){"use strict";n.r(e),e.default={language:"en-US"}},74:function(t,e,n){"use strict";n.r(e),e.default={title:"normalTitle"}},82:function(t,e,n){t.exports=n(184)},87:function(t,e,n){},89:function(t,e,n){},92:function(t,e){}},[[82,1,2]]]);
//# sourceMappingURL=main.d2e978df.chunk.js.map